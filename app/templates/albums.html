{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}翻相册 - 我的相册{% endblock %}
{% block head %}
{{ super() }}
<style>
.post {
margin: 40px;
}

.post h4 {
  margin-bottom: 9px;
}

.post h4 a {
  color: #333;
}

.post img.image {
  max-width: 400px;
  margin-top: 9px;
}

.info {
	padding:4px;
}


.thumbnail {
  position: relative;
  width: 250px;
  height: 200px;
  overflow: hidden;
}
.thumbnail img {
  position: absolute;
  left: 50%;
  top: 50%;
  height: 100%;
  width: auto;
  -webkit-transform: translate(-50%,-50%);
      -ms-transform: translate(-50%,-50%);
          transform: translate(-50%,-50%);
}
.thumbnail img.portrait {
  width: 100%;
  height: auto;
}

</style>
{% endblock %}
{% block page_content %}

<ol class="breadcrumb">
  <li><a href="{{ url_for('.index') }}">翻相册</a></li>
  <li><a href="{{ url_for('.user', username=user.username) }}">{% if current_user == user %}我{% else %}{{ user.name }}{% endif %}的主页</a></li>
  <li class="active">{% if current_user == user %}我{% else %}{{ user.name }}{% endif %}的相册</li>
  <li class="pull-right"><a href="{{ url_for('.user', username=user.username) }}">返回</a></li>
    <li class="pull-right"><a href="{{ url_for('main.likes', username=user.username) }}">{% if current_user == user %}我{% else %}{{ user.name }}{% endif %}的喜欢</a></li>
</ol>

<div class="page-header">
        <!--img class="img-rounded profile-thumbnail" src="{{ user.gravatar(size=40) }}"-->
    <h3>{% if current_user == user %}我{% else %}{{ user.name }}{% endif %}的相册</h3>
    <p>{{ album_count }}个相册
        <a class="pull-right btn" href="{{ url_for('.index') }}" title="新建相册">
            <i class="glyphicon glyphicon-plus"></i>
        </a>
</p>

</div>

<div class="container">
    {% if album_count == 0 %}
    {% if current_user == user %}
    <h3>你还没有相册，快来<a href="{{ url_for('.normal') }}">创建</a>一个吧！</h3>
    {% else %}
    <h3>他/她还没有创建相册。</h3>
    {% endif %}
    {% endif %}
        <div id="posts" class="row">
            {% for album in albums %}
            <div class="post item span3">
              <div class="well">
                <a class="thumbnail" href="{{ url_for('.album', id=album.id) }}" >
                    <img class="img-responsive portrait" src="{{ album.cover }}">
                </a>
                <div class="info">
                  <h5>{{ album.title }}</h5>
                  <span>{{ album.photos.count() }}张图片</span>
                  <span>创建于{{ moment(album.timestamp).format('L') }}</span>
                </div>
              </div>
            </div>
            {% endfor %}
  </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
$.getScript('//cdn.jsdelivr.net/isotope/1.5.25/jquery.isotope.min.js',function(){
  /* activate jquery isotope */
  $('#posts').imagesLoaded( function(){
    $('#posts').isotope({
      itemSelector : '.item'
    });
  });
});
</script>
{% endblock %}